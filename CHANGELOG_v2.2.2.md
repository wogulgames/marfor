# MARFOR v2.2.2 - Changelog

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–±–∏–≤–∫–∏ –≤ —Ä–µ–∂–∏–º–µ —Å—Ä–µ–∑–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ —Ä–∞–∑–±–∏–≤–∫–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º –≤ —Ä–µ–∂–∏–º–µ "–°—Ä–µ–∑—ã" —Å—Ç—Ä–æ–∫–∏ —Å—Ä–µ–∑–æ–≤ –ø—Ä–æ–ø–∞–¥–∞–ª–∏
- **–ü—Ä–∏—á–∏–Ω–∞**: –§—É–Ω–∫—Ü–∏—è `getVisibleSliceFields` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –¥–ª—è —Ä–µ–∂–∏–º–∞ `split-columns`
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `config.originalMode === 'slices'` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–ª–ª–∞–ø—Å–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ —Ä–∞–∑–±–∏–≤–∫–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º –ø—Ä–æ–ø–∞–¥–∞–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å —Å—Ä–µ–∑—ã
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–ª–∞ –∏—Å—Ö–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ `split-columns`
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `originalMode` –≤ `PivotConfig` –∏ –≤–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ `Object of type int64 is not JSON serializable`
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `convert_to_json_serializable` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ pandas/numpy –æ–±—ä–µ–∫—Ç–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Backend (working_web_app.py)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `convert_to_json_serializable()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ pandas/numpy —Ç–∏–ø–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `column_headers` –≤ —Ä–µ–∂–∏–º–µ —Å—Ä–µ–∑–æ–≤ —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `pivot_mode` –≤ API –æ—Ç–≤–µ—Ç—ã
- –£–¥–∞–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ "–±–∞–∑–æ–≤–æ–π —Å–≤–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞"

### Frontend (pivot_table_system.js)
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `originalMode` –≤ –∫–ª–∞—Å—Å `PivotConfig`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getVisibleSliceFields()` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `split-columns`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `createHeadersHTML()`, `createBodyHTML()`, `createTotalRowHTML()`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ `processData()` –∏ `createCrossTable()`

### Interface (marfor_interface.html)
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `renderNewPivotTable()` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π `originalMode`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è `renderTimeSeriesChart`

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤ —Ä–µ–∂–∏–º–µ "–°—Ä–µ–∑—ã" —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º:
- ‚úÖ –°—Ç—Ä–æ–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Å—Ä–µ–∑–∞–º (`region_to`, `category`, `subdivision`)
- ‚úÖ –°—Ç–æ–ª–±—Ü—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (`year`, `month`, etc.)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ–ª–ª–∞–ø—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–∑–æ–≤ (—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –≥–æ–¥–∞–º
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## üìä –í–µ—Ä—Å–∏—è: 2.2.2
**–î–∞—Ç–∞**: –û–∫—Ç—è–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å**: –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è
